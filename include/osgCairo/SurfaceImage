// -*-c++-*- osgCairo - Copyright (C) 2006 Jeremy Moles

#ifndef OSGCAIRO_SURFACEIMAGE
#define OSGCAIRO_SURFACEIMAGE

#include <osgCairo/Surface>
#include <osg/Image>

namespace osgCairo {

class SurfaceImage: public Surface, public osg::Image {
	bool _allocated;

protected:
	virtual CairoSurface* _createSurfaceImplementation();

public:
	META_Object(osgCairo, SurfaceImage);

	SurfaceImage ();
	SurfaceImage (unsigned int, unsigned int, const unsigned char* = 0);
	SurfaceImage (const SurfaceImage&, const osg::CopyOp&);

	bool allocateImage(unsigned int, unsigned int, const unsigned char* = 0);

	virtual bool valid() const {
		return osg::Image::valid() && _allocated;
	}
};


}

#endif
